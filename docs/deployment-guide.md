# 🚀 배포 플랫폼 가이드

## 📋 개요

Railway 대신 사용할 수 있는 다양한 배포 플랫폼들의 비교 및 설정 가이드입니다.

## 🏆 추천 순위

1. **Render** - 무료 플랜 우수, 설정 간단
2. **Fly.io** - 무료 플랜 관대, 성능 좋음
3. **Railway** - 개발용으로만 사용
4. **Heroku** - 유료지만 안정적

---

## 1. Render

### ✅ 장점
- **무료 플랜 제공**: 월 $7 크레딧 (소규모 프로젝트 충분)
- **15분 비활성 후 자동 슬립**: 비용 절약
- **GitHub 연동**: 자동 배포
- **SSL 자동 설정**: HTTPS 무료 제공
- **환경 변수 관리**: 웹 UI로 쉽게 설정
- **로그 확인**: 실시간 로그 모니터링

### ❌ 단점
- **슬립 모드**: 첫 요청 시 30초 지연
- **제한된 리소스**: 무료 플랜은 제한적
- **지역 제한**: 미국 서버만 제공

### 💰 과금 체계
```
무료 플랜:
- 월 $7 크레딧
- 750시간/월 (약 31일)
- 512MB RAM
- 0.1 CPU

유료 플랜:
- $7/월부터 시작
- 사용량에 따라 과금
```

### 🛠️ 설정 방법

1. **계정 생성**: https://render.com
2. **새 Web Service 생성**
3. **GitHub 저장소 연결**
4. **환경 변수 설정**:
   ```
   DATABASE_URL=your_database_url
   SECRET_KEY=your_secret_key
   ENVIRONMENT=production
   ```
5. **배포 완료**

---

## 2. Fly.io

### ✅ 장점
- **관대한 무료 플랜**: 3개 앱까지 무료
- **글로벌 CDN**: 빠른 응답 속도
- **자동 스케일링**: 트래픽에 따라 자동 조정
- **Docker 지원**: 컨테이너 기반 배포
- **CLI 도구**: 명령어로 쉽게 관리
- **무료 SSL**: 자동 HTTPS 설정

### ❌ 단점
- **학습 곡선**: CLI 사용법 익혀야 함
- **복잡한 설정**: 초기 설정이 복잡할 수 있음
- **지역 제한**: 일부 지역에서 접근 제한

### 💰 과금 체계
```
무료 플랜:
- 3개 앱까지 무료
- 3GB 저장소
- 160GB 대역폭/월
- 3개 공유 IP

유료 플랜:
- $1.94/월부터 시작
- 사용량 기반 과금
```

### 🛠️ 설정 방법

1. **Fly CLI 설치**:
   ```bash
   curl -L https://fly.io/install.sh | sh
   ```

2. **로그인**:
   ```bash
   fly auth login
   ```

3. **앱 생성**:
   ```bash
   fly launch
   ```

4. **환경 변수 설정**:
   ```bash
   fly secrets set DATABASE_URL="your_database_url"
   fly secrets set SECRET_KEY="your_secret_key"
   ```

5. **배포**:
   ```bash
   fly deploy
   ```

---

## 3. Railway (현재 사용 중)

### ✅ 장점
- **간단한 설정**: GitHub 연동으로 쉬운 배포
- **자동 HTTPS**: SSL 자동 설정
- **환경 변수 관리**: 웹 UI로 편리
- **실시간 로그**: 실시간 모니터링

### ❌ 단점
- **비싼 과금**: 서버 실행 시간만큼 과금
- **무료 플랜 제한**: 월 $5 크레딧만 제공
- **비용 예측 어려움**: 사용량에 따라 비용 변동

### 💰 과금 체계
```
무료 플랜:
- 월 $5 크레딧
- 소규모 프로젝트용

유료 플랜:
- 사용량 기반 과금
- 서버 실행 시간만큼 과금
- 예측하기 어려운 비용
```

---

## 4. Heroku

### ✅ 장점
- **안정성**: 오랜 역사로 안정적
- **풍부한 애드온**: 다양한 서비스 연동
- **팀 협업**: 팀 기능 우수
- **모니터링**: 상세한 모니터링 도구

### ❌ 단점
- **유료 전환**: 무료 플랜 폐지
- **비싼 가격**: $7/월부터 시작
- **제한된 무료 기능**: 무료 플랜 없음

### 💰 과금 체계
```
Basic Dyno: $7/월
- 512MB RAM
- 1 CPU
- 무제한 대역폭

Standard Dyno: $25/월
- 1GB RAM
- 1 CPU
- 더 나은 성능
```

---

## 5. Vercel (프론트엔드 전용)

### ✅ 장점
- **Next.js 최적화**: Next.js에 특화
- **무료 플랜 우수**: 월 100GB 대역폭
- **자동 배포**: Git 연동으로 자동 배포
- **CDN**: 글로벌 CDN으로 빠른 속도
- **서버리스 함수**: API 라우트 지원

### ❌ 단점
- **프론트엔드 전용**: 백엔드 API에는 제한적
- **함수 실행 시간 제한**: 10초 제한
- **데이터베이스 연동 복잡**: 외부 DB 필요

### 💰 과금 체계
```
무료 플랜:
- 월 100GB 대역폭
- 월 6,000 Function 실행
- 무제한 개인 프로젝트

Pro 플랜: $20/월
- 월 1TB 대역폭
- 월 100,000 Function 실행
```

---

## 🎯 권장 배포 전략

### 개발 단계
```
Frontend: Vercel (무료)
Backend: Render (무료 플랜)
Database: Supabase/PlanetScale (무료)
```

### 프로덕션 단계
```
Frontend: Vercel (무료/Pro)
Backend: Fly.io (무료 플랜)
Database: Supabase Pro ($25/월)
```

---

## 📝 배포 체크리스트

### 공통 설정
- [ ] 환경 변수 설정
- [ ] CORS 설정
- [ ] SSL/HTTPS 확인
- [ ] 헬스 체크 엔드포인트
- [ ] 로그 모니터링 설정

### 데이터베이스
- [ ] 외부 데이터베이스 연결
- [ ] 마이그레이션 스크립트
- [ ] 백업 설정

### 보안
- [ ] SECRET_KEY 설정
- [ ] API 키 보안
- [ ] 환경별 설정 분리

---

## 🔧 현재 프로젝트 설정

### Backend (FastAPI)
- **추천**: Render 또는 Fly.io
- **이유**: 무료 플랜으로 충분, 설정 간단

### Frontend (Next.js)
- **추천**: Vercel
- **이유**: Next.js 최적화, 무료 플랜 우수

### Database
- **추천**: Supabase 또는 PlanetScale
- **이유**: 무료 플랜 제공, PostgreSQL 지원

---

## 💡 비용 절약 팁

1. **개발용과 프로덕션 분리**
   - 개발: 무료 플랜 사용
   - 프로덕션: 필요시에만 유료 플랜

2. **자동 슬립 활용**
   - Render의 15분 슬립 기능 활용
   - 사용하지 않을 때 서버 중지

3. **CDN 활용**
   - Vercel의 글로벌 CDN 활용
   - 정적 파일 최적화

4. **모니터링**
   - 사용량 모니터링으로 비용 예측
   - 알림 설정으로 예상치 못한 과금 방지
